<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Professional IT Asset Tracker</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 20px;
    }

    h2 {
      text-align: center;
      margin-bottom: 10px;
      color: #333;
    }

    .section {
      background-color: #fff;
      padding: 20px;
      margin-bottom: 25px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }

    input, select {
      padding: 10px;
      font-size: 14px;
      margin: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
      width: 170px;
    }

    button {
      background-color: #0078d4;
      color: #fff;
      border: none;
      padding: 10px 16px;
      border-radius: 5px;
      font-size: 14px;
      cursor: pointer;
      margin: 5px;
    }

    button:hover {
      background-color: #005a9e;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: white;
    }

    th, td {
      padding: 10px;
      border: 1px solid #ddd;
      text-align: left;
    }

    th {
      background-color: #0078d4;
      color: white;
      cursor: pointer;
    }

    img.thumbnail {
      width: 50px;
      height: auto;
    }

    @media (max-width: 768px) {
      input, select {
        width: 100%;
        margin: 10px 0;
      }
    }
  </style>
</head>
<body>

<h2>Company IT Asset Tracker</h2>

<!-- Asset Entry Form -->
<div class="section">
  <h3>Add New Asset</h3>
  <input type="text" id="assetId" placeholder="Asset ID" required>
  <input type="text" id="assetyear" placeholder="Asset Year" required>
  <input type="text" id="assetName" placeholder="Asset Name" required>
  <input type="text" id="assetLocation" placeholder="Location" required>
  <input type="text" id="assetUser" placeholder="Assigned To" required>
  <input type="date" id="assetWarranty" placeholder="Warranty Expiry">
  <select id="assetType">
    <option value="">Select Type</option>
    <option value="Laptop">Laptop</option>
    <option value="Server">Server</option>
    <option value="Router">Router</option>
  </select>
  <select id="assetDept">
    <option value="">Select Department</option>
    <option value="IT">IT</option>
    <option value="Finance">Finance</option>
    <option value="HR">HR</option>
  </select>
  <select id="assetStatus">
    <option value="">Status</option>
    <option value="Active">Active</option>
    <option value="Inactive">Inactive</option>
  </select>
  <input type="text" id="assetIP" placeholder="IP Address" required>
  <input type="file" id="assetImage" accept="image/*">
  <br>
  <button onclick="addAsset()">‚ûï Add Asset</button>
</div>

<!-- Asset Table -->
<div class="section">
  <table id="assetTable">
    <thead>
      <tr>
        <th onclick="sortTable(0)">ID</th>
        <th onclick="sortTable(1)">Year</th>
        <th>Name</th>
        <th>Type</th>
        <th>Department</th>
        <th>Status</th>
        <th>IP</th>
        <th>Location</th>
        <th>Assigned To</th>
        <th>Warranty</th>
        <th>Image</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<script>
  let assets = [];
  const tbody = document.querySelector("#assetTable tbody");

  function readImage(input, callback) {
    if (input.files && input.files[0]) {
      const reader = new FileReader();
      reader.onload = e => callback(e.target.result);
      reader.readAsDataURL(input.files[0]);
    } else {
      callback('');
    }
  }

  function addAsset() {
    readImage(document.getElementById("assetImage"), (imageData) => {
      const asset = {
        id: document.getElementById("assetId").value.trim(),
        year: document.getElementById("assetyear").value.trim(),
        name: document.getElementById("assetName").value.trim(),
        location: document.getElementById("assetLocation").value.trim(),
        user: document.getElementById("assetUser").value.trim(),
        warranty: document.getElementById("assetWarranty").value,
        type: document.getElementById("assetType").value,
        department: document.getElementById("assetDept").value,
        status: document.getElementById("assetStatus").value,
        ip: document.getElementById("assetIP").value.trim(),
        image: imageData
      };

      if (!asset.id || !asset.year || !asset.name || !asset.type || !asset.department || !asset.status || !asset.ip) {
        alert("Please fill in all required fields.");
        return;
      }

      assets.push(asset);
      clearForm();
      renderTable();
    });
  }

  function clearForm() {
    document.querySelectorAll('input, select').forEach(el => el.value = '');
  }

  function renderTable() {
    tbody.innerHTML = '';
    assets.forEach((asset, index) => {
      const row = tbody.insertRow();
      row.innerHTML = `
        <td>${asset.id}</td>
        <td>${asset.year}</td>
        <td>${asset.name}</td>
        <td>${asset.type}</td>
        <td>${asset.department}</td>
        <td>${asset.status}</td>
        <td>${asset.ip}</td>
        <td>${asset.location}</td>
        <td>${asset.user}</td>
        <td>${asset.warranty}</td>
        <td>${asset.image ? `<img src="${asset.image}" class="thumbnail">` : ''}</td>
        <td>
          <button onclick="editAsset(${index})">‚úèÔ∏è Edit</button>
          <button onclick="deleteAsset(${index})">üóëÔ∏è Delete</button>
        </td>
      `;
    });
  }

  function deleteAsset(index) {
    if (confirm("Delete this asset?")) {
      assets.splice(index, 1);
      renderTable();
    }
  }

  function editAsset(index) {
    const a = assets[index];
    document.getElementById("assetId").value = a.id;
    document.getElementById("assetyear").value = a.year;
    document.getElementById("assetName").value = a.name;
    document.getElementById("assetLocation").value = a.location;
    document.getElementById("assetUser").value = a.user;
    document.getElementById("assetWarranty").value = a.warranty;
    document.getElementById("assetType").value = a.type;
    document.getElementById("assetDept").value = a.department;
    document.getElementById("assetStatus").value = a.status;
    document.getElementById("assetIP").value = a.ip;

    assets.splice(index, 1); // remove before re-adding
    renderTable();
  }

  function sortTable(colIndex) {
    const getValue = row => row.cells[colIndex].innerText.toLowerCase();
    const rows = Array.from(tbody.rows);
    const isAsc = tbody.getAttribute("data-sort") !== "asc";
    rows.sort((a, b) => getValue(a).localeCompare(getValue(b)) * (isAsc ? 1 : -1));
    rows.forEach(row => tbody.appendChild(row));
    tbody.setAttribute("data-sort", isAsc ? "asc" : "desc");
  }
</script>

</body>
</html>
